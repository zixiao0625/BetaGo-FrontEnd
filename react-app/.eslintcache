[{"C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\index.js":"1","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Store.js":"2","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\reportWebVitals.js":"3","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\App.js":"4","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\Login\\Login.js":"5","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\Invitation\\Invitation.js":"6","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\RoomPage\\RoomPage.js":"7","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\HomePage\\HomePage.js":"8","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\aws-exports.js":"9","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\FriendRequest\\FriendTest.js":"10","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\Login\\SignOut.js":"11","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\RoomPage\\VideoGalley.js":"12","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\RoomPage\\ToolBar.js":"13","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\HomePage\\DeviceSetUp.js":"14","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\HomePage\\JoinForm.js":"15","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\useRTM.js":"16","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\HomePage\\VideoContainer.js":"17","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\RoomListPage\\index.jsx":"18","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\Contacts\\UploadCard.js":"19","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\ProfileCard\\Profile.js":"20","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\Contacts\\Contacts.js":"21","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\RoomListPage\\RoomCard.js":"22","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\Contacts\\Profile.js":"23","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\Contacts\\Contact_Item.js":"24"},{"size":655,"mtime":1619919117084,"results":"25","hashOfConfig":"26"},{"size":1204,"mtime":1614066045794,"results":"27","hashOfConfig":"26"},{"size":375,"mtime":1612577162124,"results":"28","hashOfConfig":"26"},{"size":1769,"mtime":1621228054260,"results":"29","hashOfConfig":"26"},{"size":478,"mtime":1614066045783,"results":"30","hashOfConfig":"26"},{"size":11060,"mtime":1621245387346,"results":"31","hashOfConfig":"26"},{"size":19029,"mtime":1621242633631,"results":"32","hashOfConfig":"26"},{"size":2256,"mtime":1621245387344,"results":"33","hashOfConfig":"26"},{"size":488,"mtime":1614067929043,"results":"34","hashOfConfig":"26"},{"size":1453,"mtime":1615094575781,"results":"35","hashOfConfig":"26"},{"size":731,"mtime":1621228054280,"results":"36","hashOfConfig":"26"},{"size":940,"mtime":1613813500547,"results":"37","hashOfConfig":"26"},{"size":3495,"mtime":1621237423178,"results":"38","hashOfConfig":"26"},{"size":1135,"mtime":1614066045770,"results":"39","hashOfConfig":"26"},{"size":3917,"mtime":1621228054277,"results":"40","hashOfConfig":"26"},{"size":1718,"mtime":1621228054318,"results":"41","hashOfConfig":"26"},{"size":919,"mtime":1614066045773,"results":"42","hashOfConfig":"26"},{"size":12136,"mtime":1621245387349,"results":"43","hashOfConfig":"26"},{"size":5809,"mtime":1621228054275,"results":"44","hashOfConfig":"26"},{"size":1487,"mtime":1621228054282,"results":"45","hashOfConfig":"26"},{"size":4084,"mtime":1621245387341,"results":"46","hashOfConfig":"26"},{"size":2693,"mtime":1621245387348,"results":"47","hashOfConfig":"26"},{"size":902,"mtime":1621228054275,"results":"48","hashOfConfig":"26"},{"size":2966,"mtime":1621245387332,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"vmrjhp",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"52"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"52"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":24,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"52"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"52"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"52"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"52"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"52"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"52"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"95","messages":"96","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97","usedDeprecatedRules":"52"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"52"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"52"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"106","usedDeprecatedRules":"52"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"52"},"C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\index.js",[],["112","113"],"C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Store.js",[],"C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\reportWebVitals.js",[],"C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\App.js",["114","115","116","117","118","119","120"],"import HomePage from './Compoments/HomePage/HomePage.js'\r\nimport {RoomPage,Room} from './Compoments/RoomPage/RoomPage.js'\r\nimport Invitation from './Compoments/Invitation/Invitation.js'\r\nimport RoomListPage from './Compoments/RoomListPage/index.jsx'\r\nimport Login from './Compoments/Login/Login.js'\r\nimport Contacts from './Compoments/Contacts/Contacts.js'\r\nimport ProfileCard from './Compoments/ProfileCard/Profile.js'\r\nimport UploadCard from './Compoments/Contacts/UploadCard.js'\r\nimport React, { useState, useEffect } from \"react\";\r\nimport {HashRouter, Redirect, Route, Switch} from 'react-router-dom';\r\nimport { withAuthenticator, AmplifySignOut} from '@aws-amplify/ui-react';\r\nimport Amplify, { Auth } from 'aws-amplify';\r\nimport awsconfig from './aws-exports';\r\nimport FriendTest from './Compoments/FriendRequest/FriendTest';\r\nimport roomCard from './Compoments/RoomListPage/RoomCard';\r\nAmplify.configure(awsconfig);\r\n\r\nconst AppContext = React.createContext();\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <HashRouter>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={RoomListPage} />\r\n        <Route exact path=\"/room\" component={HomePage} />\r\n        <Route exact path=\"/room/:roomid\" component={Room} />\r\n        <Route exact path=\"/invitation\" component={Invitation} />\r\n        <Route exact path=\"/Contacts\" component={Contacts} />\r\n        <Route exact path=\"/ProfileCard\" component={ProfileCard} />\r\n        <Route exact path=\"/upload\" component={UploadCard} />\r\n        <Route exact path=\"/t\" component={roomCard} />\r\n\r\n        {\r\n        // for test only\r\n        }\r\n        <Route exact path=\"/friend/:uid\" component={FriendTest} />\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default withAuthenticator(App);\r\n","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\Login\\Login.js",["121","122","123","124","125"],"import React, {useState, useEffect, useRef} from 'react';\r\n// amplify configuration\r\n// Login component\r\nimport { withAuthenticator, AmplifySignOut} from '@aws-amplify/ui-react';\r\nimport Amplify, { Auth } from 'aws-amplify';\r\nimport awsconfig from '../../aws-exports';\r\nAmplify.configure(awsconfig);\r\n\r\nconst Login = () => (\r\n    <div>\r\n        <p>Welcome to Login</p>\r\n        {/* <AmplifySignOut /> */}\r\n        My App\r\n    </div>\r\n);\r\nexport default withAuthenticator(Login);","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\Invitation\\Invitation.js",[],"C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\RoomPage\\RoomPage.js",["126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149"],"import React, { useState, useEffect,useRef} from \"react\";\r\nimport ReactDOM from 'react-dom';\r\nimport AgoraRTC from 'agora-rtc-sdk-ng';\r\nimport SignOut from '../Login/SignOut.js'\r\nimport VideoGalley from \"./VideoGalley.js\";\r\nimport ToolBar from \"./ToolBar.js\"\r\nimport \"./RoomPage.css\";\r\nimport { Auth } from 'aws-amplify'\r\nimport { Box } from \"@material-ui/core\"\r\nimport { Popover } from '@material-ui/core'\r\nimport demoPic from '../../Icons/avatar.jpg'\r\nimport \"./style.css\";\r\nimport \"./bootstrap.min.css\"\r\nrequire('bootstrap')\r\n\r\nconst appId= \"a3624becc6624c74959bd7f7975e89ed\";\r\nconst rootApi = \"https://cul7qg4ehc.execute-api.us-east-1.amazonaws.com/dev/room\";\r\n\r\nconst UserCard = (props)=>{\r\n  return(\r\n  <div id={props.uid} className=\"Video\">\r\n\r\n  </div>)\r\n}\r\n\r\n\r\nexport const RoomController = (props)=>{\r\n    const client = useRef();\r\n    const [uids,setUids] = useState([]);\r\n    const videoRef = props.videoRef;\r\n    const[clientPrep,setClientPrep]=useState(false);\r\n    const localAudioTrack = useRef();\r\n    const localVideoTrack = useRef();\r\n    useEffect(async ()=>{\r\n   \r\n        if(props.cid !== \"\"){\r\n          window.addEventListener('unload', leaveUp, false);\r\n          client.current = AgoraRTC.createClient({ mode: \"rtc\", codec: \"vp8\" });\r\n          localAudioTrack.current = await AgoraRTC.createMicrophoneAudioTrack();\r\n          localVideoTrack.current = await AgoraRTC.createCameraVideoTrack();\r\n          client.current.on(\"user-joined\",onUserJoin);\r\n          client.current.on(\"user-left\",onUserLeft);\r\n          client.current.on(\"user-published\",onUserPublish);\r\n          client.current.on(\"user-unpublished\",onUnpublish);\r\n          console.log(\"AAAAAAAAAAAAAAAAA\");\r\n          console.log(props.cid);\r\n          \r\n          // const localContainer = document.createElement(\"div\");\r\n          // localContainer.id = \"self\";\r\n          // localContainer.style.width = \"640px\";\r\n          // localContainer.style.height = \"480px\";\r\n          // document.getElementById(\"Local-Stream\").append(localContainer);\r\n          //localVideoTrack.play(\"self\");\r\n          await client.current.join(appId, props.roomID, null);\r\n          fetch(rootApi+\"?roomID=\"+props.roomID+\"&uid=\"+props.cid+\"&action=join\", {\r\n            method: 'PATCH', // or 'PUT'\r\n            })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data === \"Update!\"){\r\n                    console.log(\"succeed!\");\r\n                    // props.p.history.push(`/room/${id}`);\r\n                }\r\n                \r\n            })\r\n            .catch((error) => {\r\n                console.error('Error:', error);\r\n            });\r\n          \r\n          meet();\r\n          //await client.current.publish([localAudioTrack, localVideoTrack]);\r\n          //setUids([...uids,uId]);\r\n          setClientPrep(true);\r\n        }\r\n\r\n        return async()=>{\r\n          leaveUpdate();\r\n          leaveCall();\r\n        };\r\n    },[props.cid]);\r\n\r\n\r\n\r\n    useEffect(async()=>{\r\n      if(clientPrep){\r\n        if(props.micOn){\r\n          await client.current.publish([localAudioTrack.current]);\r\n        } else {\r\n          await client.current.unpublish([localAudioTrack.current]);\r\n        }\r\n        if(props.camOn){\r\n          await client.current.publish([localVideoTrack.current]);\r\n          localVideoTrack.current.play(\"self\");\r\n        } else {\r\n          await client.current.unpublish([localVideoTrack.current]);\r\n          localVideoTrack.current.stop();\r\n        }\r\n      }\r\n    },[props.micOn,props.camOn,clientPrep])\r\n\r\n\r\n\r\n    const meet = async()=>{\r\n      fetch(rootApi+\"?roomID=\"+props.roomID)\r\n      .then(response => response.json())\r\n      .then((data) => {\r\n        let users = data.members;\r\n        users.map(async (uid)=>{\r\n          let url = \"https://cul7qg4ehc.execute-api.us-east-1.amazonaws.com/dev/user/add-friend?self=\" + props.cid + \"&friend=\"+uid;\r\n          await fetch(url, {\r\n            method: 'PATCH'});\r\n        })\r\n      });\r\n    }\r\n    const onUserJoin = async (user)=>{\r\n      // const playerContainer = document.createElement(\"div\");\r\n      // //ÁªôËøô‰∏™ DIV ËäÇÁÇπÊåáÂÆö‰∏Ä‰∏™ IDÔºåËøôÈáåÊåáÂÆöÁöÑÊòØËøúÁ´ØÁî®Êà∑ÁöÑ UID„ÄÇ\r\n      // playerContainer.id = user.uid.toString();\r\n      // playerContainer.innerHTML=\"AAA\";\r\n      // playerContainer.className=\"Video\";\r\n      // document.getElementById(\"VideoGalley\").append(playerContainer);\r\n      // const playerContainer = <UserCard uid={user.uid.toString()}/>\r\n      // ReactDOM.render(playerContainer, document.getElementById('VideoGalley'));\r\n      // document.getElementById(\"VideoGalley\").append(playerContainer);\r\n      props.userJoin(user.uid.toString());\r\n    }\r\n\r\n    const onUserLeft=async(user)=>{\r\n      // const PlayerContainer = document.getElementById(user.uid.toString());\r\n      // PlayerContainer.remove();\r\n      props.userLeave(user.uid.toString());\r\n    }\r\n\r\n\r\n    const onUserPublish =async (user, mediaType) => {\r\n        // ÂºÄÂßãËÆ¢ÈòÖËøúÁ´ØÁî®Êà∑„ÄÇ\r\n        await client.current.subscribe(user, mediaType);\r\n        console.log(\"subscribe success\");\r\n\r\n        // Ë°®Á§∫Êú¨Ê¨°ËÆ¢ÈòÖÁöÑÊòØËßÜÈ¢ë„ÄÇ\r\n        if (mediaType === \"video\") {\r\n          // ËÆ¢ÈòÖÂÆåÊàêÂêéÔºå‰ªé `user` ‰∏≠Ëé∑ÂèñËøúÁ´ØËßÜÈ¢ëËΩ®ÈÅìÂØπË±°„ÄÇ\r\n            \r\n          const remoteVideoTrack = user.videoTrack;\r\n          //   const PlayerContainer = React.createElement(\"div\", {\r\n          //     id: user.uid.toString(),\r\n          //     className: \"stream\",\r\n          //     width:\"480px\",\r\n          //     height:\"680px\",\r\n          //   });\r\n          //   ReactDOM.render(\r\n          //     PlayerContainer,\r\n          //     document.getElementById(\"VideoGalley\")\r\n          //   );\r\n            // Âä®ÊÄÅÊèíÂÖ•‰∏Ä‰∏™ DIV ËäÇÁÇπ‰Ωú‰∏∫Êí≠ÊîæËøúÁ´ØËßÜÈ¢ëËΩ®ÈÅìÁöÑÂÆπÂô®„ÄÇ\r\n          // const playerContainer = document.createElement(\"div\");\r\n          // playerContainer.id = user.uid.toString();\r\n          // setUids([...uids,user.uid.toString()]);\r\n          // playerContainer.className=\"Video\";\r\n          // document.getElementById(\"VideoGalley\").append(playerContainer);\r\n        \r\n            // ËÆ¢ÈòÖÂÆåÊàêÔºåÊí≠ÊîæËøúÁ´ØÈü≥ËßÜÈ¢ë„ÄÇ\r\n            // ‰º†ÂÖ• DIV ËäÇÁÇπÔºåËÆ© SDK Âú®Ëøô‰∏™ËäÇÁÇπ‰∏ãÂàõÂª∫Áõ∏Â∫îÁöÑÊí≠ÊîæÂô®Êí≠ÊîæËøúÁ´ØËßÜÈ¢ë„ÄÇ\r\n          remoteVideoTrack.play(user.uid.toString());\r\n      \r\n          // ‰πüÂèØ‰ª•Âè™‰º†ÂÖ•ËØ• DIV ËäÇÁÇπÁöÑ ID„ÄÇ\r\n          // remoteVideoTrack.play(playerContainer.id);\r\n        }\r\n      \r\n        // Ë°®Á§∫Êú¨Ê¨°ËÆ¢ÈòÖÁöÑÊòØÈü≥È¢ë„ÄÇ\r\n        if (mediaType === \"audio\") {\r\n          // ËÆ¢ÈòÖÂÆåÊàêÂêéÔºå‰ªé `user` ‰∏≠Ëé∑ÂèñËøúÁ´ØÈü≥È¢ëËΩ®ÈÅìÂØπË±°„ÄÇ\r\n          const remoteAudioTrack = user.audioTrack;\r\n          // Êí≠ÊîæÈü≥È¢ëÂõ†‰∏∫‰∏ç‰ºöÊúâÁîªÈù¢Ôºå‰∏çÈúÄË¶ÅÊèê‰æõ DOM ÂÖÉÁ¥†ÁöÑ‰ø°ÊÅØ„ÄÇ\r\n          remoteAudioTrack.play();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const onUnpublish = async(user, mediaType) => {\r\n        // await client.current.subscribe(user, mediaType);\r\n        // if (mediaType === \"video\") {\r\n        // // Ëé∑ÂèñÂàöÂàöÂä®ÊÄÅÂàõÂª∫ÁöÑ DIV ËäÇÁÇπ„ÄÇ\r\n        //     // var u_id = user.uid.toString();\r\n        //     // const PlayerContainer = document.getElementById(user.uid.toString());\r\n        //     // PlayerContainer.remove();\r\n        //     const remoteVideoTrack = user.videoTrack;\r\n        //     remoteVideoTrack.stop(user.uid.toString());\r\n        // }\r\n\r\n        // if (mediaType === \"audio\") {\r\n        //   // ËÆ¢ÈòÖÂÆåÊàêÂêéÔºå‰ªé `user` ‰∏≠Ëé∑ÂèñËøúÁ´ØÈü≥È¢ëËΩ®ÈÅìÂØπË±°„ÄÇ\r\n        //   const remoteAudioTrack = user.audioTrack;\r\n        //   // Êí≠ÊîæÈü≥È¢ëÂõ†‰∏∫‰∏ç‰ºöÊúâÁîªÈù¢Ôºå‰∏çÈúÄË¶ÅÊèê‰æõ DOM ÂÖÉÁ¥†ÁöÑ‰ø°ÊÅØ„ÄÇ\r\n        //   remoteAudioTrack.stop();\r\n        // }\r\n    }\r\n    const leaveUp = ()=>{\r\n      navigator.sendBeacon(rootApi+ \"/action\"+\"?roomID=\"+props.roomID+\"&uid=\"+props.cid+\"&action=leave\");\r\n    }\r\n    const leaveUpdate = async()=>{\r\n      const sessionInfo = Auth.currentSession();\r\n      const session = await sessionInfo;\r\n      const clientId = session.idToken.payload.sub;\r\n\r\n      fetch(rootApi+\"?roomID=\"+props.roomID+\"&uid=\"+clientId+\"&action=leave\", {\r\n        method: 'PATCH', // or 'PUT'\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            if (data === \"Update!\"){\r\n                console.log(\"succeed!\");\r\n                // props.p.history.push(`/room/${id}`);\r\n            }\r\n            \r\n        })\r\n        .catch((error) => {\r\n            console.error('Error:', error);\r\n        });\r\n    }\r\n    async function leaveCall() {\r\n        // ÈîÄÊØÅÊú¨Âú∞Èü≥ËßÜÈ¢ëËΩ®ÈÅì„ÄÇ\r\n        \r\n        localAudioTrack.close();\r\n        localVideoTrack.close();\r\n      \r\n        // ÈÅçÂéÜËøúÁ´ØÁî®Êà∑„ÄÇ\r\n        client.current.remoteUsers.forEach(user => {\r\n          // ÈîÄÊØÅÂä®ÊÄÅÂàõÂª∫ÁöÑ DIV ËäÇÁÇπ„ÄÇ\r\n          // const playerContainer = document.getElementById(user.uid);\r\n          // playerContainer && playerContainer.remove();\r\n          props.userLeave(user.uid.toString());\r\n        });\r\n\r\n        \r\n      \r\n        // Á¶ªÂºÄÈ¢ëÈÅì„ÄÇ\r\n        await client.current.leave();\r\n    }\r\n\r\n\r\n\r\n    return (\r\n    <div>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport const Room =(props)=>{\r\n    const[micOn,setMicOn]=useState(false);\r\n    const[camOn,setCamOn]=useState(true);\r\n    const[users,setUsers]=useState([]);\r\n    const[cid,setCid] = useState(\"\"); \r\n    const [userName, setUserName] = useState(localStorage.getItem('userName'))\r\n    const [userBio, setUserBio] = useState(localStorage.getItem('userBio'))\r\n    const [avatar, setAvatar] = useState(localStorage.getItem('avatar'))\r\n    const [anchorEl, setAnchorEl] = useState(null)\r\n    const [anchorElEdit, setAnchorElEdit] = useState(null)\r\n    const [anchorElNav, setAnchorElNav] = useState(null)\r\n    const openEdit = Boolean(anchorElEdit)\r\n    const openNav = Boolean(anchorElNav)\r\n    const roomID = props.match.params.roomid;\r\n    // websocket connection\r\n    const ws = new WebSocket('wss://9iqx51uhcj.execute-api.us-east-1.amazonaws.com/dev')\r\n    // Get Amplify ID\r\n    const sessionInfo = Auth.currentSession();\r\n\r\n    useEffect(async()=>{\r\n      const sessionInfo = Auth.currentSession();\r\n      const session = await sessionInfo;\r\n      const clientId = session.idToken.payload.sub;\r\n      setCid(clientId);\r\n    },[])\r\n    \r\n    const onMicClick = ()=>{\r\n      setMicOn(!micOn)\r\n    }\r\n\r\n    const onCamClick=()=>{\r\n      setCamOn(!camOn);\r\n    }\r\n\r\n    const userJoin=(uid)=>{\r\n      // console.log(\"temADD\");\r\n      // console.log(users);\r\n      setUsers(users=>[...users,uid]);\r\n      // let temp = [...users];\r\n      // temp.push(uid);\r\n      // setUsers(temp);\r\n    }\r\n\r\n    const userLeave=(uid)=>{\r\n      // let temp = [...users];\r\n      // console.log(\"temp\");\r\n      // console.log(temp);\r\n      setUsers(users=>[...users].filter(item=>item!==uid));\r\n      // setUsers(temp.filter(item => item !== uid));\r\n    }\r\n\r\n    const handleCloseNav = () => {\r\n      setAnchorElNav(null)\r\n    }\r\n\r\n    const handleClickI = (event) => {\r\n      console.log('111', event)\r\n      setAnchorElNav(event.currentTarget);\r\n    }\r\n\r\n    const handleInvitation = () => {\r\n      const origin = window.location.origin\r\n      window.location.replace(origin + '/#/invitation')\r\n    }\r\n\r\n    const showProfile = (event) => {\r\n      setAnchorEl(event.currentTarget);\r\n    }\r\n  \r\n    const showEdit = (event) => {\r\n      setAnchorElEdit(event.currentTarget)\r\n    }\r\n\r\n    const signOut = () => {\r\n      // Get Amplify ID\r\n      const sessionInfo = Auth.currentSession()\r\n  \r\n      // websocket connection; Sign Out\r\n      const ws = new WebSocket('wss://9iqx51uhcj.execute-api.us-east-1.amazonaws.com/dev')\r\n      sessionInfo.then(response => {\r\n          ws.send(JSON.stringify({\"action\": \"updateStatus\", \"cliendId\": response.idToken.payload.sub}))\r\n      })\r\n      Auth.signOut()\r\n      window.location = \"/\"\r\n    }\r\n\r\n\r\n    return(\r\n        <div>\r\n          <header className=\"p-3 mb-3 border-bottom\">\r\n            <div className=\"container\" style={{ zIndex: '11' }}>\r\n              {/* <div className=\"d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start\"> */}\r\n                <Box display='flex' flexDirection='row' justifyContent='space-between' style={{ width: '100%'}} >\r\n                <a href=\"/\" className=\"d-flex align-items-center mb-2 mb-lg-0 text-dark text-decoration-none\">\r\n                  <svg className=\"bi me-2\" width={40} height={32}><use xlinkHref=\"#bootstrap\" /></svg>\r\n                </a>\r\n                <ul className=\"nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0\">\r\n                  {/* Áïô‰∏™‰ΩçÁΩÆroom: ÂèØ‰ª•ÊääroomnameÊäì‰∏ãÊù• */}\r\n                  <li><a href=\"#\" className=\"nav-link px-2 link-secondary\">Room:</a></li>\r\n                </ul>     \r\n                <div className=\"dropdown text-end\" style={{ marginTop: '7px' }}>\r\n                  {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\r\n                  <a \r\n                    // href=\"\" \r\n                    // className=\"d-block link-dark text-decoration-none dropdown-toggle\" \r\n                    // id=\"dropdownUser1\" \r\n                    // data-bs-toggle=\"dropdown\" \r\n                    // aria-expanded=\"true\"\r\n                    // onClick={handleClickI}\r\n                  >\r\n                    {avatar === ''\r\n                      ? <img src={demoPic} alt=\"mdo\" width={32} height={32} className=\"rounded-circle\" />\r\n                      : <img src={avatar} alt=\"mdo\" width={32} height={32} className=\"rounded-circle\" /> }\r\n                  </a>\r\n                  <Popover\r\n                    id='simple-popover'\r\n                    open={openNav}\r\n                    anchorEl={anchorElNav}\r\n                    onClose={handleCloseNav}\r\n                    anchorOrigin={{\r\n                      vertical: 'bottom',\r\n                      horizontal: 'center',\r\n                    }}\r\n                    transformOrigin={{\r\n                      vertical: 'top',\r\n                      horizontal: 'center',\r\n                    }}\r\n                    style={{height: '400px', width: '100%' }}\r\n                  > \r\n                    <div>\r\n                      <ul style={{ width: '200px' }}>\r\n                        <li><a className=\"dropdown-item\" href=\"#\">Notification</a></li>\r\n                        <li><a className=\"dropdown-item\" href=\"#\" onClick={handleInvitation}>Invitations</a></li>\r\n                        <li><a className=\"dropdown-item\" href=\"#\" onClick={showProfile}>Profile</a></li>\r\n                        <li><a className=\"dropdown-item\" href=\"#\" onClick={showEdit}>Edit Info</a></li>\r\n                        <li><hr className=\"dropdown-divider\" /></li>\r\n                        <li><a className=\"dropdown-item\" href=\"#\" onClick={signOut}>Sign out</a></li>\r\n                      </ul>\r\n                    </div>\r\n                  </Popover>\r\n                </div>\r\n                </Box>\r\n              {/* </div> */}\r\n            </div>\r\n          </header>\r\n          <div>\r\n          <div id=\"VideoGalley\" width=\"100%\" height=\"80%\" >\r\n            <div id=\"self\" className=\"Video\"></div>\r\n            {users.map(user=>{\r\n              return <UserCard key={user} uid={user}/>\r\n            })}\r\n          </div>\r\n          <div>\r\n            <ToolBar micOn={micOn} camOn={camOn} onMicClick={onMicClick} onCamClick={onCamClick}/>\r\n          </div>\r\n          <div className=\"btnSignOut\">\r\n              <SignOut \r\n                websocket = {ws}\r\n                session = {sessionInfo}\r\n              />  \r\n          </div>\r\n          <RoomController userJoin={userJoin} userLeave={userLeave} micOn={micOn} camOn={camOn} roomID={roomID} cid={cid} />\r\n          </div>\r\n        </div>)\r\n}\r\n\r\nexport default Room;\r\n\r\n// const StyledVideo = styled.video`\r\n//     height: 40%;\r\n//     width: 50%;\r\n// `;\r\n\r\n// const Video = (props) => {\r\n//     const ref = useRef();\r\n\r\n//     useEffect(() => {\r\n//         props.peer.on(\"stream\", stream => {\r\n//             ref.current.srcObject = stream;\r\n//         })\r\n//     }, []);\r\n\r\n//     return (\r\n//         <StyledVideo playsInline autoPlay ref={ref} />\r\n//     );\r\n// }\r\n// const Room = (props) => {\r\n//     const [peers, setPeers] = useState([]);\r\n//     const socketRef = useRef();\r\n//     const userVideo = useRef();\r\n//     const peersRef = useRef([]);\r\n//     const roomID = props.match.params.roomID;\r\n\r\n//     useEffect(() => {\r\n//         socketRef.current = io.connect(\"/\");\r\n//         navigator.mediaDevices.getUserMedia({ video: videoConstraints, audio: true }).then(stream => {\r\n//             userVideo.current.srcObject = stream;\r\n//             socketRef.current.emit(\"join room\", roomID);\r\n//             socketRef.current.on(\"all users\", users => {\r\n//                 const peers = [];\r\n//                 users.forEach(userID => {\r\n//                     const peer = createPeer(userID, socketRef.current.id, stream);\r\n//                     peersRef.current.push({\r\n//                         peerID: userID,\r\n//                         peer,\r\n//                     })\r\n//                     peers.push(peer);\r\n//                 })\r\n//                 setPeers(peers);\r\n//             })\r\n\r\n//             socketRef.current.on(\"user joined\", payload => {\r\n//                 const peer = addPeer(payload.signal, payload.callerID, stream);\r\n//                 peersRef.current.push({\r\n//                     peerID: payload.callerID,\r\n//                     peer,\r\n//                 })\r\n\r\n//                 setPeers(users => [...users, peer]);\r\n//             });\r\n\r\n//             socketRef.current.on(\"receiving returned signal\", payload => {\r\n//                 const item = peersRef.current.find(p => p.peerID === payload.id);\r\n//                 item.peer.signal(payload.signal);\r\n//             });\r\n//         })\r\n//     }, []);\r\n\r\n//     function createPeer(userToSignal, callerID, stream) {\r\n//         const peer = new Peer({\r\n//             initiator: true,\r\n//             trickle: false,\r\n//             stream,\r\n//         });\r\n\r\n//         peer.on(\"signal\", signal => {\r\n//             socketRef.current.emit(\"sending signal\", { userToSignal, callerID, signal })\r\n//         })\r\n\r\n//         return peer;\r\n//     }\r\n\r\n//     function addPeer(incomingSignal, callerID, stream) {\r\n//         const peer = new Peer({\r\n//             initiator: false,\r\n//             trickle: false,\r\n//             stream,\r\n//         })\r\n\r\n//         peer.on(\"signal\", signal => {\r\n//             socketRef.current.emit(\"returning signal\", { signal, callerID })\r\n//         })\r\n\r\n//         peer.signal(incomingSignal);\r\n\r\n//         return peer;\r\n//     }\r\n\r\n//     return (\r\n//         <Container>\r\n//             <StyledVideo muted ref={userVideo} autoPlay playsInline />\r\n//             {peers.map((peer, index) => {\r\n//                 return (\r\n//                     <Video key={index} peer={peer} />\r\n//                 );\r\n//             })}\r\n//         </Container>\r\n//     );\r\n// };","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\HomePage\\HomePage.js",["150","151","152"],"import './App.css';\r\nimport DeviceSetUp from './DeviceSetUp';\r\nimport JoinForm from './JoinForm';\r\nimport SignOut from '../Login/SignOut.js'\r\nimport { Auth } from 'aws-amplify';\r\nimport React, {useEffect} from 'react';\r\n\r\nlet ws\r\n\r\nconst HomePage = (props)=>{\r\n    // Get Amplify ID\r\n    const sessionInfo = Auth.currentSession();\r\n    sessionInfo.then(response => {\r\n        console.log(response.idToken.payload.sub)\r\n    })\r\n    console.log(\"INFO\");\r\n\r\n    // websocket connection\r\n    ws = new WebSocket('wss://9iqx51uhcj.execute-api.us-east-1.amazonaws.com/dev')\r\n    \r\n    const initWebsocket = () => {\r\n        ws.addEventListener(\"open\", () => {\r\n          sessionInfo.then(response => {\r\n            ws.send(JSON.stringify({\"action\": \"onMessage\", \"clientId\": response.idToken.payload.sub, \"userName\": response.accessToken.payload.username}))\r\n          })\r\n        });\r\n\r\n        ws.onopen = () => {\r\n            // on connecting, do nothing but log it to the console\r\n            console.log('connected')\r\n        }\r\n\r\n        ws.onclose = () => {\r\n            console.log('disconnected')\r\n            window.alert(\"Your session is time out!\");\r\n        }\r\n    }\r\n\r\n    // useEffect(() => {\r\n    //     initWebsocket();\r\n    // });\r\n\r\n    window.addEventListener('beforeunload', function (e) {\r\n        e.preventDefault();\r\n        sessionInfo.then(response => {\r\n            console.log(response.idToken.payload.sub)\r\n            ws.send(JSON.stringify({\"action\": \"updateStatus\", \"clientId\": response.accessToken.payload.client_id}))\r\n        })\r\n    })\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"page\">\r\n                <header className=\"App_header\"></header>\r\n                <div className=\"about_container\">\r\n                    <h1 id=\"title\">Host a party üî•</h1>\r\n                    <JoinForm p={props}/>\r\n                </div>   \r\n            </div>\r\n            <div className=\"device_access\">\r\n                <DeviceSetUp/>\r\n            </div>\r\n            \r\n            {/* <div className=\"btnSignOut\">\r\n                <SignOut \r\n                    websocket = {ws}\r\n                    session = {sessionInfo}\r\n                />\r\n            </div> */}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default HomePage;\r\n","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\aws-exports.js",[],"C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\FriendRequest\\FriendTest.js",[],"C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\Login\\SignOut.js",[],"C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\RoomPage\\VideoGalley.js",[],"C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\RoomPage\\ToolBar.js",["153","154"],"import React, { useState, useEffect,useRef} from \"react\";\r\nimport './App.css';\r\nimport micIconMute from '../../Icons/mic_icon_mute.svg'\r\nimport micIconOn from '../../Icons/mic_icon_on.svg'\r\nimport camIconOn from '../../Icons/cam_icon_on.svg'\r\nimport camIconOff from '../../Icons/cam_icon_off.svg'\r\nimport music from '../../Icons/music.svg'\r\nimport chat from '../../Icons/chat.svg'\r\nimport box from '../../Icons/box.svg'\r\nimport left from '../../Icons/left.svg'\r\nimport right from '../../Icons/right.svg'\r\nimport Button from '@material-ui/core/Button'\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nconst ToolBar = (props)=>{\r\n    // const [camOn,setCamOn] = useState(true);\r\n    // const [micOn,setMicOn] = useState(true);\r\n    const [showMusic,setMusicIcon] = useState(true);\r\n    const [showBox,setBoxIcon] = useState(true);\r\n    const [showChat,setChatIcon] = useState(true);\r\n    const [showLeft,setLeftIcon] = useState(true);\r\n    const [showRight,setRightIcon] = useState(false);\r\n    const camOn = props.camOn;\r\n    const micOn = props.micOn;\r\n    const history = useHistory();\r\n    \r\n    const clickMicIcon = () => {\r\n        props.onMicClick();\r\n    }\r\n\r\n    const clickCamIcon = () => {\r\n        props.onCamClick();\r\n    }\r\n\r\n    const clickMusicIcon = (event) => {\r\n        event.preventDefault()\r\n        window.alert(\"You have clicked Music icon!\");\r\n    }\r\n\r\n    const clickBoxIcon = (event) => {\r\n        event.preventDefault()\r\n        window.alert(\"You have clicked Box icon\");\r\n    }\r\n\r\n    const clickChatIcon = (event) => {\r\n        event.preventDefault()\r\n        window.alert(\"You have clicked Chat icon\");\r\n    }\r\n\r\n    const clickLeftIcon = () => {\r\n        setBoxIcon(false);\r\n        setChatIcon(false);\r\n        setMusicIcon(false);\r\n        setLeftIcon(false);\r\n        setRightIcon(true);\r\n    }\r\n\r\n    const clickRightIcon = () => {\r\n        setBoxIcon(true);\r\n        setChatIcon(true);\r\n        setMusicIcon(true);\r\n        setLeftIcon(true);\r\n        setRightIcon(false);\r\n    }\r\n\r\n    const handleBack = () => {\r\n        history.push('/')\r\n    }\r\n\r\n    let camIcon = camOn? camIconOn:camIconOff;\r\n    let micIcon = micOn? micIconOn:micIconMute;\r\n    return (\r\n    <div className=\"toolbar\" style={{ backgroundColor: '#eaedf2' }}>\r\n        <div className=\"microphone\" onClick = {clickMicIcon}>\r\n            <img src={micIcon} alt=\"microphone icon\"/>\r\n        </div> \r\n        <div className=\"camera\" onClick = {clickCamIcon}>\r\n            <img src={camIcon} alt=\"camera icon\"/>\r\n        </div>\r\n        <div className=\"music\" onClick = {clickMusicIcon}>\r\n            {showMusic? <img src={music} alt=\"music icon\"/>: null}\r\n        </div> \r\n        <div className=\"box\" onClick = {clickBoxIcon}>\r\n            {showBox? <img src={box} alt=\"box icon\"/>: null}\r\n        </div>\r\n        <div className=\"chat\" onClick = {clickChatIcon}>\r\n            {showChat? <img src={chat} alt=\"chat icon\"/>: null}\r\n        </div>\r\n        <div className=\"left\" onClick = {clickLeftIcon}>\r\n            {showLeft? <img src={left} alt=\"left arrow icon\"/>: null}\r\n        </div>\r\n        <div className=\"right\" onClick = {clickRightIcon}>\r\n            {showRight? <img src={right} alt=\"right arrow icon\"/>: null}\r\n        </div>\r\n        <div style={{ marginLeft: 'calc(85%)' }}>\r\n            <Button variant=\"outlined\" color=\"primary\" onClick={handleBack}>\r\n                Back to Landing page\r\n            </Button>\r\n        </div>\r\n    </div>\r\n    );\r\n}\r\nexport default ToolBar;","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\HomePage\\DeviceSetUp.js",["155","156","157","158"],"import './App.css';\r\nimport React, {useState, useEffect, useRef} from 'react';\r\nimport micIconMute from '../../Icons/mic_icon_mute.svg'\r\nimport micIconOn from '../../Icons/mic_icon_on.svg'\r\nimport camIconOn from '../../Icons/cam_icon_on.svg'\r\nimport camIconOff from '../../Icons/cam_icon_off.svg'\r\nimport VideoContainer from './VideoContainer.js'\r\nconst DeviceSetUp = (props) =>{\r\n    const [camOn,setCamOn] = useState(false);\r\n    const [micOn,setMicOn] = useState(true);\r\n\r\n    const clickMicIcon = () => {\r\n        setMicOn(!micOn);\r\n    }\r\n\r\n    const clickCamIcon = () => {\r\n        setCamOn(!camOn);\r\n    }\r\n    \r\n    let camIcon = camOn? camIconOn:camIconOff;\r\n    let micIcon = micOn? micIconOn:micIconMute;\r\n    return(\r\n        <div>\r\n        <div className=\"microphone\" onClick = {clickMicIcon}>\r\n            <img src={micIcon}/>\r\n        </div> \r\n        <div className=\"camera\" onClick = {clickCamIcon}>\r\n            <img src={camIcon}/>\r\n        </div> \r\n        <div className=\"videoTest\">\r\n            <VideoContainer micOn={micOn} camOn={camOn}/>\r\n        </div>\r\n        </div>\r\n    );\r\n}\r\nexport default DeviceSetUp;","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\HomePage\\JoinForm.js",["159","160","161","162","163","164","165"],"import { Link } from \"react-router-dom\";\r\nimport { Form, Col } from \"react-bootstrap\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport diceIcon from '../../Icons/dice_icon.svg';\r\nimport React, {useState, useEffect, useRef} from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { Auth } from 'aws-amplify';\r\nimport { useHistory } from \"react-router-dom\";\r\nconst rootApi = \"https://cul7qg4ehc.execute-api.us-east-1.amazonaws.com/dev/room\";\r\nconst JoinForm = (props)=> {\r\n\r\n    const [room,setRoom] = useState(\"\");\r\n    const [info,setInfo] = useState(\"\");\r\n    const [roomId, setRoomID] = useState(\"\");\r\n    const history=useHistory();\r\n    //   handleChange(event) {\r\n    //     this.setState({ \r\n    //       value: event.target.value\r\n    //     });\r\n    //     if (event.target.value !== \"\") {\r\n    //       this.setState({ \r\n    //         clickAble: true\r\n    //       });\r\n    //     } else if (event.target.value === \"\") {\r\n    //       this.setState({ \r\n    //         clickAble: false\r\n    //       });\r\n    //     }\r\n    //   }\r\n    const UpdateRoomDB = () => {\r\n        \r\n    }\r\n\r\n    const updateRoom = (event) => {\r\n        setRoom(event.target.value)\r\n    }\r\n\r\n    const updateInfo = (event) => {\r\n        setInfo(event.target.value)\r\n    }\r\n    \r\n    const handleSubmit = async(event)=> {\r\n        const sessionInfo = Auth.currentSession();\r\n        const session = await sessionInfo\r\n        const clientId = session.idToken.payload.sub\r\n        // ÂèØÂà†event\r\n        let id = uuidv4();\r\n        const data = {};\r\n        data[\"roomID\"]=id;\r\n        data[\"roomName\"] = room;\r\n        data[\"roomInfo\"] =info;\r\n        data[\"host\"] = clientId;\r\n        data[\"members\"] = [clientId];\r\n\r\n        fetch(rootApi, {\r\n        method: 'POST', // or 'PUT'\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(data),\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            if (data === \"Update!\"){\r\n                console.log(\"succeed!\");\r\n                history.push('/room/'+id);\r\n            }\r\n            \r\n        })\r\n        .catch((error) => {\r\n            console.error('Error:', error);\r\n        });\r\n        \r\n        \r\n    }\r\n\r\n    \r\n    const handleSubmitNothing = (event) => {\r\n        event.preventDefault()\r\n        window.alert(\"Must fill out all information!\");\r\n    }\r\n\r\n    const onsubmit =  room !== \"\" && info !== \"\" ? handleSubmit : handleSubmitNothing;\r\n\r\n    return (\r\n        <Form>\r\n            <Form.Row className=\"align-items-center\">\r\n                <Col xs=\"auto\">\r\n                {\" \"}\r\n                <Form.Group controlId=\"RoomName\">\r\n                <Form.Label>Give it a name</Form.Label>\r\n                <i className=\"dice_icon\">\r\n                    <img src={diceIcon}/>\r\n                </i>\r\n                <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"eg: Odegaarrd Night..\"\r\n                    maxLength = \"30\"\r\n                    onChange={updateRoom}\r\n                />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"UserName\">\r\n                <Form.Label>Make some description</Form.Label>\r\n                <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Let's make a study group\"\r\n                    maxLength = \"50\"\r\n                    onChange={updateInfo}\r\n                />\r\n                </Form.Group>\r\n                <div className=\"join_btn\">\r\n                \r\n                <Button\r\n                    id=\"join_room\"\r\n                    variant=\"primary\"\r\n                    type=\"submit\"\r\n                    onClick={onsubmit}\r\n                >\r\n                    Let's go!\r\n                </Button>  \r\n                </div>\r\n                </Col>\r\n            </Form.Row>\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default JoinForm;","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\useRTM.js",["166","167"],"/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport AgoraRTM from 'agora-rtm-sdk'\r\n\r\n\r\nconst useAgoraRtm = (userID,RtmClient) => {\r\n  // fetch db\r\n  const [requests, setRequests] = useState([]);\r\n  const initRtm = async () => {\r\n    await RtmClient.login({uid: userID});\r\n  };\r\n  \r\n  useEffect(() => {\r\n    initRtm();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    RtmClient.on('MessageFromPeer', (data, peerId) => { // text ‰∏∫Ê∂àÊÅØÊñáÊú¨ÔºåpeerId ÊòØÊ∂àÊÅØÂèëÈÄÅÊñπ User ID\r\n        /* Êî∂Âà∞ÁÇπÂØπÁÇπÊ∂àÊÅØÁöÑÂ§ÑÁêÜÈÄªËæë */\r\n        handleMessageRecieved(data,peerId)\r\n    });\r\n  }, []);\r\n  const handleMessageRecieved = async (data, peerId) => {\r\n    console.log(data);\r\n    if (data.messageType === \"TEXT\") {\r\n      let info = data.text;\r\n      if (info === \"friend request\");\r\n        let request = peerId;\r\n      setRequests(requests=>[...requests, request]);\r\n    }\r\n  };\r\n\r\n  const confirmRequest = (uid)=>{\r\n    setRequests(requests=>[...requests].filter(item=>item!==uid));\r\n  }\r\n\r\n  const sendRequest = async(peerID)=>{\r\n    RtmClient.sendMessageToPeer(\r\n        { text: 'friend request' }, // ‰∏Ä‰∏™ RtmMessage ÂÆû‰æã„ÄÇ\r\n        peerID, // ÂØπÁ´ØÁî®Êà∑ÁöÑ uid„ÄÇ\r\n      ).then(sendResult => {\r\n        if (sendResult.hasPeerReceived) {\r\n          return \"Request Send\";\r\n        } else {\r\n          // ‰Ω†ÁöÑ‰ª£Á†ÅÔºöÊúçÂä°Âô®Â∑≤Êî∂Âà∞Ê∂àÊÅØÔºåÂØπÁ´ØÊú™Êî∂Âà∞Ê∂àÊÅØ„ÄÇ\r\n          return \"Request Send but user offline\";\r\n        }\r\n      }).catch(error => {\r\n        // ‰Ω†ÁöÑ‰ª£Á†ÅÔºöÁÇπÂØπÁÇπÊ∂àÊÅØÂèëÈÄÅÂ§±Ë¥•„ÄÇ\r\n        return \"Request Failed\";\r\n      });\r\n  }\r\n\r\n  return {sendRequest, confirmRequest, requests};\r\n};\r\nexport default useAgoraRtm;","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\HomePage\\VideoContainer.js",[],"C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\RoomListPage\\index.jsx",["168","169","170","171","172","173","174","175","176","177","178","179"],"C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\Contacts\\UploadCard.js",["180","181","182","183","184","185","186","187","188"],"import Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport React, {useState} from 'react'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Paper, Box, FormControl, OutlinedInput, InputLabel } from '@material-ui/core'\r\nimport axios from 'axios'\r\nimport Dropzone from 'react-dropzone'\r\nimport request from 'superagent'\r\nimport { Auth } from 'aws-amplify';\r\n\r\nconst UploadCard = (props) => {\r\n\r\n    const [alertMessage, setAlertMessage] = useState('')\r\n    const [confirmMessage, setConfirmMessage] = useState('')\r\n    const [name, setName] = useState('')\r\n    const [userBio, setUserBio] = useState('')\r\n    const [clientId, setClientId] = useState('')\r\n    const [uploadedFileCloudinaryUrl, setUploadedFileCloudinaryUrl] = useState('')\r\n    const [uploadFile, setUploadFile] = useState('')\r\n    const CLOUDINARY_UPLOAD_PRESET = 'ml_default';\r\n    const CLOUDINARY_UPLOAD_URL = 'https://api.cloudinary.com/v1_1/dkvlfehys/upload';\r\n\r\n    const onNameChange = (event) => {\r\n        \r\n        setName(event.target.value)\r\n    }\r\n\r\n    const onUserBioChange = (event) => {\r\n        setUserBio(event.target.value)\r\n    }\r\n\r\n    async function handleClick () {\r\n        const sessionInfo = Auth.currentSession();\r\n        const session = await sessionInfo\r\n        const clientId = session.idToken.payload.sub\r\n        setClientId(clientId)\r\n        const url = 'https://cul7qg4ehc.execute-api.us-east-1.amazonaws.com/dev/user?clientId=' + clientId + '&userName=' + name + '&avatar=' + uploadedFileCloudinaryUrl + '&userBio=' + userBio\r\n        try {\r\n            const response = await axios.patch(url, {_method: 'patch'})\r\n            setConfirmMessage('Information Updated!')\r\n        }\r\n        catch(e) {\r\n            // setAlertMessage(e)\r\n            // it should not set confirm, but sometimes while it succeeds\r\n            // it still report error, so assume all cases work\r\n            setConfirmMessage('Information Updated!')\r\n            console.log(e)\r\n            props.setAvatar(uploadedFileCloudinaryUrl)\r\n            // update name and bio as well\r\n            if (name !== '') {\r\n                props.setUserName(name)\r\n            }\r\n            if (userBio !== '') {\r\n                props.setUserBio(userBio)\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleImageUpload = (file) => {\r\n        let upload = request.post(CLOUDINARY_UPLOAD_URL)\r\n                        .field('upload_preset', CLOUDINARY_UPLOAD_PRESET)\r\n                        .field('file', file)\r\n\r\n        upload.end((err, response) => {\r\n            if (err) {\r\n                console.error(err);\r\n            }\r\n            console.log(response)\r\n            if (response.body.secure_url !== '') {\r\n                console.log(response.body.secure_url)\r\n                setUploadedFileCloudinaryUrl(response.body.secure_url)\r\n            }\r\n        })\r\n    }\r\n\r\n    const onImageDrop = (files) => {\r\n        setUploadFile(files[0])\r\n        handleImageUpload(files[0])\r\n    }\r\n\r\n    return¬†(\r\n        <div>\r\n    ¬†¬†¬†¬†    <Box>\r\n¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†  <Typography¬†variant='h6'¬†align='left'¬†style={{¬†marginLeft:¬†'18px'¬†}}>\r\n¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†Edit your information\r\n¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†</Typography>\r\n            ¬†¬†¬†¬†<Box style={{display: 'flex', flexDirection: 'column', justifyContent: 'start', marginLeft: '60px', width: '50%'}}>\r\n                    <TextField\r\n                        id=\"outlined-userName-input\"\r\n                        label=\"UserName\"\r\n                        type=\"text\"\r\n                        autoComplete=\"current-password\"\r\n                        variant=\"outlined\"\r\n                        style={{ marginBottom: '10px'}}\r\n                        onChange={onNameChange}\r\n                    />\r\n                    {/* something for avatar */}\r\n                    <Dropzone\r\n                        multiple={false}\r\n                        accept=\"image/*\"\r\n                        onDrop={onImageDrop}>\r\n                        {({getRootProps, getInputProps}) => (\r\n                            <section style={{ border: '1px solid black', marginBottom: '15px' }}>\r\n                            <div {...getRootProps()}>\r\n                                <input {...getInputProps()} />\r\n                                <p>Drag, or click to upload your avatar</p>\r\n                            </div>\r\n                            </section>\r\n                        )}\r\n                        {/* <p>Drop an image or click to select a file to upload.</p> */}\r\n                    </Dropzone>\r\n                    <TextField\r\n                        id=\"outlined-multiline-static\"\r\n                        label=\"Multiline\"\r\n                        multiline\r\n                        rows={4}\r\n                        defaultValue=\"Something U wanna say~\"\r\n                        variant=\"outlined\"\r\n                        onChange={onUserBioChange}\r\n                    />\r\n            ¬†¬†¬†¬†</Box>\r\n    ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†{alertMessage¬†!==¬†''¬†&&¬†<Typography¬†style={{¬†fontSize:¬†12,¬†fontWeight:¬†400,¬†color:¬†'red',¬†textAlign:¬†'center'¬†}}>¬†{alertMessage}¬†</Typography>}\r\n    ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†<Button variant=\"contained\"¬†aligh=\"left\"¬†onClick={handleClick} style={{ position: 'relative', right: '45px' }}>\r\n    ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†Upload Change\r\n    ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†</Button>\r\n                  {confirmMessage¬†!==¬†''¬†&&¬†<Typography¬†style={{¬†fontSize:¬†12,¬†fontWeight:¬†400,¬†color:¬†'green',¬†textAlign:¬†'center'¬†}}>¬†{confirmMessage}¬†</Typography>}\r\n            </Box>\r\n    ¬†¬†¬†¬†</div>\r\n    )\r\n}\r\n\r\nexport default UploadCard","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\ProfileCard\\Profile.js",["189"],"import React from 'react';\r\nimport \"./Profile.css\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Profile\r\n      profilePic=\"https://anima-uploads.s3.amazonaws.com/projects/603f96b6a6fa0860cddc1b17/releases/607298fb5ec03fa5072c8f31/img/profile-pic@2x.png\"\r\n      name=\"Nicholas Xu\"\r\n      bio_text={\r\n        <>\r\n          Who said I don‚Äôt party\r\n          <br />\r\n          UW 21 | Seattle | Shenzhen\r\n          <br />A product guy en route\r\n        </>\r\n      }\r\n      addFriend=\"+ Add Friend\"\r\n      statsProps={ProfileData.statsProps}\r\n    />\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\nfunction Profile(props) {\r\n  const { profilePic, name, bio_text, addFriend} = props;\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      <div className=\"name-card\">\r\n        <img className=\"profile-pic\" src={profilePic} />\r\n        <div className=\"name pingfangtc-medium-black-14px\">{name}</div>\r\n      </div>\r\n      <p className=\"biotext pingfangtc-regular-normal-black-8px\">{bio_text}</p>\r\n\r\n        <div className=\"overlap-group\">\r\n            <div className=\"addFriend pingfangtc-medium-apple-10px\">{addFriend}</div>\r\n        </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst ProfileData = {\r\n    profilePic: \"https://anima-uploads.s3.amazonaws.com/projects/603f96b6a6fa0860cddc1b17/releases/607298fb5ec03fa5072c8f31/img/profile-pic@2x.png\",\r\n    name: \"Nicholas Xu\",\r\n    text44: <>Who said I don‚Äôt party<br />UW 21 | Seattle | Shenzhen<br />A product guy en route</>,\r\n    text47: \"+ Add Friend\",\r\n\r\n};\r\n\r\n","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\Contacts\\Contacts.js",["190","191","192","193"],"import React from \"react\";\r\nimport \"./Contacts.css\";\r\nimport demoPic from '../../Icons/avatar.jpg'\r\nimport { Auth } from 'aws-amplify';\r\nimport ContactItem from \"./Contact_Item\";\r\nimport Button from '@material-ui/core/Button'\r\nimport UploadCard from \"./UploadCard\";\r\nimport { Popover } from '@material-ui/core';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nclass Contacts extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      friendId: [],\r\n      userNameList: [],\r\n      clientId: \"\"\r\n    }\r\n  }\r\n  // const contacts =\"Contacts\"\r\n  // const group19 =\"https://anima-uploads.s3.amazonaws.com/projects/603f96b6a6fa0860cddc1b17/releases/603f97ca8010ac957ab858ff/img/group-19@2x.svg\"\r\n  // const group16=\"https://anima-uploads.s3.amazonaws.com/projects/603f96b6a6fa0860cddc1b17/releases/603f97ca8010ac957ab858ff/img/group-16@2x.svg\"\r\n  // const group17=\"https://anima-uploads.s3.amazonaws.com/projects/603f96b6a6fa0860cddc1b17/releases/603f97ca8010ac957ab858ff/img/group-17@2x.svg\"\r\n  // const group18=\"https://anima-uploads.s3.amazonaws.com/projects/603f96b6a6fa0860cddc1b17/releases/603f97ca8010ac957ab858ff/img/group-18@2x.svg\"\r\n  \r\n  sleep = async (milliseconds) => {\r\n    const date = Date.now();\r\n    let currentDate = null;\r\n    do {\r\n      currentDate = Date.now();\r\n    } while (currentDate - date < milliseconds);\r\n  }\r\n\r\n  getFriendId = async () => {\r\n    const sessionInfo = Auth.currentSession();\r\n\r\n    const session = await sessionInfo\r\n    const clientId = session.idToken.payload.sub\r\n    this.setState({ clientId: clientId})\r\n    const url = 'https://cul7qg4ehc.execute-api.us-east-1.amazonaws.com/dev/user?clientId=' + clientId\r\n    const response = await fetch(url)\r\n    const data = await response.json()\r\n    const length = data['friends']['L'].length\r\n    if (length !== 0) {\r\n      var targetList = this.state.friendId\r\n      data['friends']['L'].forEach(function(item){\r\n        targetList.push(item['S'])\r\n      }) \r\n      this.setState({ friendId: targetList })\r\n    }\r\n  }\r\n\r\n//  getUserNames = async () => {\r\n\r\n//   // wait for fetch the friend list\r\n//   await this.getFriendId()\r\n//   console.log(this.state.friendId)\r\n//   console.log(this.state.userNameList)\r\n//   // fetch user name of each clientId\r\n//   if (this.state.friendId.length !== 0) {\r\n//     let userNames = this.state.userNameList\r\n//     let friends = this.state.friendId\r\n//     for (let index = 0; index < friends.length; index++) {\r\n//       const api = 'https://cul7qg4ehc.execute-api.us-east-1.amazonaws.com/dev/user?clientId=' + friends[index]\r\n//       const response = await fetch(api, {\r\n//         method: 'GET'})\r\n//       const data = await response.json()\r\n//       var userName = data['userName']['S']\r\n//       userNames.push(userName)\r\n//     }\r\n//     this.setState({userNameList: userNames})\r\n//   }\r\n//  }\r\n\r\n  componentDidMount = async () => {\r\n    await this.getFriendId()\r\n  }\r\n\r\n  render = () => {\r\n    let friendId = this.state.friendId\r\n    return friendId.length === 0 \r\n            ?\r\n              <div className=\"boxContainer\">\r\n                <div className=\"contacts pingfangtc-medium-black-20px\">Meet\r\n                </div>\r\n              </div>\r\n              \r\n            : (\r\n              <div className=\"boxContainer\">\r\n                <div className=\"contacts pingfangtc-medium-black-20px\">Meet\r\n                </div>\r\n                <Box borderRadius={16}>\r\n                {\r\n                  this.state.friendId.map((friend_Id) => {\r\n                    console.log(friend_Id)\r\n                    // return (\r\n                    //   <div className=\"\" key={userName}>\r\n                    //     <div className=\"each-person\">\r\n                    //       <img className=\"picture\" src = {demoPic} alt=\"contact_list\" />{userName}\r\n                    //       <button className=\"button\">Join</button>\r\n                    //     </div>\r\n                    //   </div>\r\n                    // )\r\n                    return (\r\n                      <ContactItem client_Id={friend_Id} key={friend_Id}/>\r\n                    )\r\n                  })\r\n                } \r\n                </Box>\r\n              </div>\r\n              );\r\n  }\r\n\r\n}\r\n\r\nexport default Contacts","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\RoomListPage\\RoomCard.js",["194","195","196","197","198","199"],"// import { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./RoomCard.css\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nconst rootApi = \"https://cul7qg4ehc.execute-api.us-east-1.amazonaws.com/dev/\"\r\nconst partyIcon = \"https://anima-uploads.s3.amazonaws.com/projects/60363237048e519c5d8f0bb8/releases/603d1492f59279099b05ed88/img/icons8-party-30--1-@2x.png\";\r\nconst userNumIcon = \"https://anima-uploads.s3.amazonaws.com/projects/60363237048e519c5d8f0bb8/releases/603d1492f59279099b05ed88/img/icons8-user-30-1@2x.png\";\r\nconst RoomCardPage = (props)=>{\r\n  \r\n  return (<RoomCard roomid={props.roomid}/>);\r\n}\r\n\r\nconst RoomCard = (props)=>{\r\n  const[uids,setUids] = useState([]);\r\n  const[roomName,setRoomName] = useState(\"\");\r\n  const[users,setUsers] = useState([]);\r\n  const[roomInfo,setRoomInfo] = useState(\"\");\r\n  const history = useHistory();\r\n  const handleRoom = () => {\r\n    // const origin = window.origin\r\n    // console.log(origin)\r\n    // window.location = toString(origin) + \"/#/room/test7\"\r\n    let path = `/room/`+props.roomid;\r\n    history.push(path);\r\n  }\r\n  useEffect(()=>{\r\n    fetch(rootApi+\"room?roomID=\"+props.roomid)\r\n      .then(response => response.json())\r\n      .then((data) => {\r\n        setRoomName(data.roomName);\r\n        setRoomInfo(data.roomInfo);\r\n        // console.log(data);\r\n        setUids(data.members);\r\n        // console.log(data.members);\r\n      });\r\n  },[props.roomid]);\r\n\r\n  useEffect(()=>{\r\n    if(uids.length >= 0){\r\n      let usersList = [];\r\n      uids.map((uid,i)=>{\r\n        let api = rootApi + \"user?clientId=\" + uid;\r\n        fetch(api)\r\n        .then(response => response.json())\r\n        .then((data) => {\r\n            setUsers(users=>[...users,data]);\r\n      });\r\n      });\r\n\r\n    }\r\n  },[uids]);\r\n  \r\n  return (\r\n      <div className=\"roomCard\" style={{cursor: \"pointer\"}} onClick={handleRoom}>\r\n        <div className=\"top\">\r\n            <h5 className=\"RoomTitle\">{roomName}</h5>\r\n            <p className=\"RoomInfo\">{roomInfo}</p>\r\n        </div>\r\n\r\n        <div className=\"middle\">\r\n            <div className=\"container\">\r\n                {users.map((user,idx)=>{\r\n                    return (<img className=\"avatar\" key={idx} src={user.avatar.S}/>);\r\n                })}\r\n            </div>\r\n            \r\n        </div>\r\n\r\n        <div className=\"bot\">\r\n            <div className=\"lineup\">\r\n                <img className=\"icon1\" src={userNumIcon} />\r\n                <div className=\"text\">{\"\" + users.length + \"/8\"}</div>\r\n                <div className=\"icon2\">{\"üîí\"}</div>\r\n            </div>   \r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default RoomCardPage;","C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\Contacts\\Profile.js",[],"C:\\Users\\Sky\\Desktop\\Undergrads  Course\\info490\\BetaGo-FrontEnd\\react-app\\src\\Compoments\\Contacts\\Contact_Item.js",["200"],"import { useState, useEffect } from 'react'\r\nimport \"./Contacts.css\";\r\nimport demoPic from '../../Icons/avatar.jpg'\r\nimport Profile from './Profile.js'\r\nimport { Popover } from '@material-ui/core';\r\nimport UploadCard from \"./UploadCard\";\r\n\r\nconst ContactItem = (client_ID, ...props) => {\r\n\r\n  const [userName, setUserName] = useState('')\r\n  const [avatar, setAvatar] = useState('')\r\n  const [status, setStatus] = useState('')\r\n  const [userBio, setUserBio] = useState('')\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const getUserInfo = async () => {\r\n      // get user name\r\n      const api = 'https://cul7qg4ehc.execute-api.us-east-1.amazonaws.com/dev/user?clientId=' + client_ID.client_Id\r\n      const response = await fetch(api, {\r\n      method: 'GET'})\r\n      const data = await response.json()\r\n      setUserName(data['userName']['S'])\r\n      data['onlineStatus']['BOOL'] ? setStatus(\"online\") : setStatus(\"offline\")\r\n      // get avatar\r\n      setAvatar(data['avatar']['S'])\r\n      // get online status\r\n      setUserBio(data['userBio']['S'])\r\n\r\n  }\r\n\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  \r\n  useEffect(() => {\r\n    getUserInfo()\r\n  })\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popover' : undefined;\r\n\r\n\r\n  return (\r\n      <div className=\"\" key={userName}>\r\n        <div className=\"each-person\" onClick={handleClick}>\r\n          {avatar === ''\r\n            ? <img className=\"picture\" src = {demoPic} alt=\"contact_list\" style={{position: 'inline'}}/>\r\n            : <img className=\"picture\" src = {avatar} alt=\"contact_list\" style={{position: 'inline'}}/> }\r\n            <span className=\"person-name\"> {userName} </span>\r\n            <span className=\"person-status\" style={{position: 'relative', top: '15px'}}>{status}</span>\r\n\r\n          <button className=\"button\">+ Join</button>\r\n        </div>\r\n        <Popover\r\n          id={id}\r\n          open={open}\r\n          anchorEl={anchorEl}\r\n          onClose={handleClose}\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'center',\r\n          }}\r\n          transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'center',\r\n          }}\r\n          style={{height: '600px'}}\r\n        >\r\n          <Profile\r\n            profilePic={avatar}\r\n            name={userName}\r\n            bio_text={\r\n              <>\r\n                <div style={{fontWeight: 'bold'}}>Your Bio:</div>\r\n                <br />\r\n                {userBio}\r\n              </>\r\n            }\r\n            addFriend=\"+ Add Friend\"\r\n            showButton={true}\r\n            style={{height: 'auto'}}\r\n          />\r\n        </Popover>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default ContactItem",{"ruleId":"201","replacedBy":"202"},{"ruleId":"203","replacedBy":"204"},{"ruleId":"205","severity":1,"message":"206","line":2,"column":9,"nodeType":"207","messageId":"208","endLine":2,"endColumn":17},{"ruleId":"205","severity":1,"message":"209","line":5,"column":8,"nodeType":"207","messageId":"208","endLine":5,"endColumn":13},{"ruleId":"205","severity":1,"message":"210","line":9,"column":17,"nodeType":"207","messageId":"208","endLine":9,"endColumn":25},{"ruleId":"205","severity":1,"message":"211","line":9,"column":27,"nodeType":"207","messageId":"208","endLine":9,"endColumn":36},{"ruleId":"205","severity":1,"message":"212","line":11,"column":29,"nodeType":"207","messageId":"208","endLine":11,"endColumn":43},{"ruleId":"205","severity":1,"message":"213","line":12,"column":19,"nodeType":"207","messageId":"208","endLine":12,"endColumn":23},{"ruleId":"205","severity":1,"message":"214","line":18,"column":7,"nodeType":"207","messageId":"208","endLine":18,"endColumn":17},{"ruleId":"205","severity":1,"message":"210","line":1,"column":16,"nodeType":"207","messageId":"208","endLine":1,"endColumn":24},{"ruleId":"205","severity":1,"message":"211","line":1,"column":26,"nodeType":"207","messageId":"208","endLine":1,"endColumn":35},{"ruleId":"205","severity":1,"message":"215","line":1,"column":37,"nodeType":"207","messageId":"208","endLine":1,"endColumn":43},{"ruleId":"205","severity":1,"message":"212","line":4,"column":29,"nodeType":"207","messageId":"208","endLine":4,"endColumn":43},{"ruleId":"205","severity":1,"message":"213","line":5,"column":19,"nodeType":"207","messageId":"208","endLine":5,"endColumn":23},{"ruleId":"205","severity":1,"message":"216","line":2,"column":8,"nodeType":"207","messageId":"208","endLine":2,"endColumn":16},{"ruleId":"205","severity":1,"message":"217","line":5,"column":8,"nodeType":"207","messageId":"208","endLine":5,"endColumn":19},{"ruleId":"205","severity":1,"message":"218","line":29,"column":12,"nodeType":"207","messageId":"208","endLine":29,"endColumn":16},{"ruleId":"205","severity":1,"message":"219","line":29,"column":17,"nodeType":"207","messageId":"208","endLine":29,"endColumn":24},{"ruleId":"205","severity":1,"message":"220","line":30,"column":11,"nodeType":"207","messageId":"208","endLine":30,"endColumn":19},{"ruleId":"221","severity":1,"message":"222","line":34,"column":15,"nodeType":"223","endLine":80,"endColumn":6},{"ruleId":"221","severity":1,"message":"224","line":80,"column":7,"nodeType":"225","endLine":80,"endColumn":18,"suggestions":"226"},{"ruleId":"221","severity":1,"message":"222","line":84,"column":15,"nodeType":"223","endLine":99,"endColumn":6},{"ruleId":"227","severity":1,"message":"228","line":200,"column":46,"nodeType":"229","messageId":"230","endLine":200,"endColumn":47},{"ruleId":"205","severity":1,"message":"231","line":255,"column":12,"nodeType":"207","messageId":"208","endLine":255,"endColumn":20},{"ruleId":"205","severity":1,"message":"232","line":255,"column":22,"nodeType":"207","messageId":"208","endLine":255,"endColumn":33},{"ruleId":"205","severity":1,"message":"233","line":256,"column":12,"nodeType":"207","messageId":"208","endLine":256,"endColumn":19},{"ruleId":"205","severity":1,"message":"234","line":256,"column":21,"nodeType":"207","messageId":"208","endLine":256,"endColumn":31},{"ruleId":"205","severity":1,"message":"235","line":257,"column":20,"nodeType":"207","messageId":"208","endLine":257,"endColumn":29},{"ruleId":"205","severity":1,"message":"236","line":258,"column":12,"nodeType":"207","messageId":"208","endLine":258,"endColumn":20},{"ruleId":"205","severity":1,"message":"237","line":261,"column":11,"nodeType":"207","messageId":"208","endLine":261,"endColumn":19},{"ruleId":"221","severity":1,"message":"222","line":269,"column":15,"nodeType":"223","endLine":274,"endColumn":6},{"ruleId":"205","severity":1,"message":"238","line":305,"column":11,"nodeType":"207","messageId":"208","endLine":305,"endColumn":23},{"ruleId":"239","severity":1,"message":"240","line":348,"column":23,"nodeType":"241","endLine":348,"endColumn":76},{"ruleId":"239","severity":1,"message":"240","line":381,"column":29,"nodeType":"241","endLine":381,"endColumn":67},{"ruleId":"239","severity":1,"message":"240","line":382,"column":29,"nodeType":"241","endLine":382,"endColumn":94},{"ruleId":"239","severity":1,"message":"240","line":383,"column":29,"nodeType":"241","endLine":383,"endColumn":89},{"ruleId":"239","severity":1,"message":"240","line":384,"column":29,"nodeType":"241","endLine":384,"endColumn":86},{"ruleId":"239","severity":1,"message":"240","line":386,"column":29,"nodeType":"241","endLine":386,"endColumn":85},{"ruleId":"205","severity":1,"message":"242","line":4,"column":8,"nodeType":"207","messageId":"208","endLine":4,"endColumn":15},{"ruleId":"205","severity":1,"message":"211","line":6,"column":16,"nodeType":"207","messageId":"208","endLine":6,"endColumn":25},{"ruleId":"205","severity":1,"message":"243","line":21,"column":11,"nodeType":"207","messageId":"208","endLine":21,"endColumn":24},{"ruleId":"205","severity":1,"message":"211","line":1,"column":27,"nodeType":"207","messageId":"208","endLine":1,"endColumn":36},{"ruleId":"205","severity":1,"message":"215","line":1,"column":37,"nodeType":"207","messageId":"208","endLine":1,"endColumn":43},{"ruleId":"205","severity":1,"message":"211","line":2,"column":26,"nodeType":"207","messageId":"208","endLine":2,"endColumn":35},{"ruleId":"205","severity":1,"message":"215","line":2,"column":37,"nodeType":"207","messageId":"208","endLine":2,"endColumn":43},{"ruleId":"244","severity":1,"message":"245","line":25,"column":13,"nodeType":"241","endLine":25,"endColumn":33},{"ruleId":"244","severity":1,"message":"245","line":28,"column":13,"nodeType":"241","endLine":28,"endColumn":33},{"ruleId":"205","severity":1,"message":"246","line":1,"column":10,"nodeType":"207","messageId":"208","endLine":1,"endColumn":14},{"ruleId":"205","severity":1,"message":"211","line":5,"column":26,"nodeType":"207","messageId":"208","endLine":5,"endColumn":35},{"ruleId":"205","severity":1,"message":"215","line":5,"column":37,"nodeType":"207","messageId":"208","endLine":5,"endColumn":43},{"ruleId":"205","severity":1,"message":"247","line":14,"column":12,"nodeType":"207","messageId":"208","endLine":14,"endColumn":18},{"ruleId":"205","severity":1,"message":"248","line":14,"column":20,"nodeType":"207","messageId":"208","endLine":14,"endColumn":29},{"ruleId":"205","severity":1,"message":"249","line":30,"column":11,"nodeType":"207","messageId":"208","endLine":30,"endColumn":23},{"ruleId":"244","severity":1,"message":"245","line":93,"column":21,"nodeType":"241","endLine":93,"endColumn":42},{"ruleId":"205","severity":1,"message":"215","line":2,"column":31,"nodeType":"207","messageId":"208","endLine":2,"endColumn":37},{"ruleId":"205","severity":1,"message":"250","line":3,"column":8,"nodeType":"207","messageId":"208","endLine":3,"endColumn":16},{"ruleId":"205","severity":1,"message":"251","line":16,"column":10,"nodeType":"207","messageId":"208","endLine":16,"endColumn":23},{"ruleId":"205","severity":1,"message":"252","line":19,"column":10,"nodeType":"207","messageId":"208","endLine":19,"endColumn":21},{"ruleId":"205","severity":1,"message":"253","line":40,"column":9,"nodeType":"207","messageId":"208","endLine":40,"endColumn":16},{"ruleId":"221","severity":1,"message":"222","line":167,"column":13,"nodeType":"223","endLine":185,"endColumn":4},{"ruleId":"244","severity":1,"message":"245","line":204,"column":15,"nodeType":"241","endLine":204,"endColumn":61},{"ruleId":"239","severity":1,"message":"240","line":207,"column":19,"nodeType":"241","endLine":207,"endColumn":72},{"ruleId":"239","severity":1,"message":"240","line":210,"column":15,"nodeType":"241","endLine":216,"endColumn":39},{"ruleId":"239","severity":1,"message":"240","line":238,"column":25,"nodeType":"241","endLine":238,"endColumn":63},{"ruleId":"239","severity":1,"message":"240","line":239,"column":25,"nodeType":"241","endLine":239,"endColumn":90},{"ruleId":"239","severity":1,"message":"240","line":240,"column":25,"nodeType":"241","endLine":240,"endColumn":85},{"ruleId":"239","severity":1,"message":"240","line":241,"column":25,"nodeType":"241","endLine":241,"endColumn":82},{"ruleId":"239","severity":1,"message":"240","line":243,"column":25,"nodeType":"241","endLine":243,"endColumn":81},{"ruleId":"205","severity":1,"message":"254","line":4,"column":8,"nodeType":"207","messageId":"208","endLine":4,"endColumn":24},{"ruleId":"205","severity":1,"message":"255","line":6,"column":10,"nodeType":"207","messageId":"208","endLine":6,"endColumn":15},{"ruleId":"205","severity":1,"message":"256","line":6,"column":22,"nodeType":"207","messageId":"208","endLine":6,"endColumn":33},{"ruleId":"205","severity":1,"message":"257","line":6,"column":35,"nodeType":"207","messageId":"208","endLine":6,"endColumn":48},{"ruleId":"205","severity":1,"message":"258","line":6,"column":50,"nodeType":"207","messageId":"208","endLine":6,"endColumn":60},{"ruleId":"205","severity":1,"message":"259","line":14,"column":26,"nodeType":"207","messageId":"208","endLine":14,"endColumn":41},{"ruleId":"205","severity":1,"message":"260","line":18,"column":12,"nodeType":"207","messageId":"208","endLine":18,"endColumn":20},{"ruleId":"205","severity":1,"message":"261","line":20,"column":12,"nodeType":"207","messageId":"208","endLine":20,"endColumn":22},{"ruleId":"205","severity":1,"message":"262","line":40,"column":19,"nodeType":"207","messageId":"208","endLine":40,"endColumn":27},{"ruleId":"244","severity":1,"message":"245","line":31,"column":9,"nodeType":"241","endLine":31,"endColumn":57},{"ruleId":"205","severity":1,"message":"263","line":3,"column":8,"nodeType":"207","messageId":"208","endLine":3,"endColumn":15},{"ruleId":"205","severity":1,"message":"264","line":6,"column":8,"nodeType":"207","messageId":"208","endLine":6,"endColumn":14},{"ruleId":"205","severity":1,"message":"265","line":7,"column":8,"nodeType":"207","messageId":"208","endLine":7,"endColumn":18},{"ruleId":"205","severity":1,"message":"266","line":8,"column":10,"nodeType":"207","messageId":"208","endLine":8,"endColumn":17},{"ruleId":"205","severity":1,"message":"267","line":6,"column":10,"nodeType":"207","messageId":"208","endLine":6,"endColumn":19},{"ruleId":"205","severity":1,"message":"268","line":8,"column":7,"nodeType":"207","messageId":"208","endLine":8,"endColumn":16},{"ruleId":"205","severity":1,"message":"269","line":42,"column":11,"nodeType":"207","messageId":"208","endLine":42,"endColumn":20},{"ruleId":"270","severity":1,"message":"271","line":43,"column":23,"nodeType":"223","messageId":"272","endLine":43,"endColumn":25},{"ruleId":"244","severity":1,"message":"245","line":65,"column":29,"nodeType":"241","endLine":65,"endColumn":84},{"ruleId":"244","severity":1,"message":"245","line":73,"column":17,"nodeType":"241","endLine":73,"endColumn":60},{"ruleId":"205","severity":1,"message":"265","line":6,"column":8,"nodeType":"207","messageId":"208","endLine":6,"endColumn":18},"no-native-reassign",["273"],"no-negated-in-lhs",["274"],"no-unused-vars","'RoomPage' is defined but never used.","Identifier","unusedVar","'Login' is defined but never used.","'useState' is defined but never used.","'useEffect' is defined but never used.","'AmplifySignOut' is defined but never used.","'Auth' is defined but never used.","'AppContext' is assigned a value but never used.","'useRef' is defined but never used.","'ReactDOM' is defined but never used.","'VideoGalley' is defined but never used.","'uids' is assigned a value but never used.","'setUids' is assigned a value but never used.","'videoRef' is assigned a value but never used.","react-hooks/exhaustive-deps","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","React Hook useEffect has missing dependencies: 'leaveCall', 'leaveUp', 'leaveUpdate', 'meet', 'onUserJoin', 'onUserLeft', and 'props.roomID'. Either include them or remove the dependency array.","ArrayExpression",["275"],"no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","'userName' is assigned a value but never used.","'setUserName' is assigned a value but never used.","'userBio' is assigned a value but never used.","'setUserBio' is assigned a value but never used.","'setAvatar' is assigned a value but never used.","'anchorEl' is assigned a value but never used.","'openEdit' is assigned a value but never used.","'handleClickI' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'SignOut' is defined but never used.","'initWebsocket' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","'Link' is defined but never used.","'roomId' is assigned a value but never used.","'setRoomID' is assigned a value but never used.","'UpdateRoomDB' is assigned a value but never used.","'AgoraRTM' is defined but never used.","'listenerCount' is defined but never used.","'CardColumns' is defined but never used.","'history' is assigned a value but never used.","'FormControlLabel' is defined but never used.","'Paper' is defined but never used.","'FormControl' is defined but never used.","'OutlinedInput' is defined but never used.","'InputLabel' is defined but never used.","'setAlertMessage' is assigned a value but never used.","'clientId' is assigned a value but never used.","'uploadFile' is assigned a value but never used.","'response' is assigned a value but never used.","'demoPic' is defined but never used.","'Button' is defined but never used.","'UploadCard' is defined but never used.","'Popover' is defined but never used.","'Container' is defined but never used.","'partyIcon' is assigned a value but never used.","'usersList' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","expectedInside","no-global-assign","no-unsafe-negation",{"desc":"276","fix":"277"},"Update the dependencies array to be: [leaveCall, leaveUp, leaveUpdate, meet, onUserJoin, onUserLeft, props.cid, props.roomID]",{"range":"278","text":"279"},[2955,2966],"[leaveCall, leaveUp, leaveUpdate, meet, onUserJoin, onUserLeft, props.cid, props.roomID]"]